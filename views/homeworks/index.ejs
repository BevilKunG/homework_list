<% include ../partials/header %>
<div class="ui container">
  <div class="ui secondary padded segment">
    <h1>Homework List</h1>
    <p>Homework List reminds you to manage the homework time</p>
    <a class="ui positive button" href="/homeworks/new"><i class="plus icon"></i>Add</a>
  </div>

  <table class="ui table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Deadline</th>
        <th>Status</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <% homeworks.forEach(function(homework){ %>
        <!-- Change Date format to dd/mm/yyyy   -->
        <% var date = homework.deadline.getDate(),
               month = homework.deadline.getMonth()+1,
               year = homework.deadline.getFullYear(); %>
        <% if(date<10) date = "0" + date; %>
        <% if(month<10) month = "0" + month; %>
        <!--                                                         -->
        <tr>
          <td><%= homework.name %></td>
          <td><%= date %>/<%= month %>/<%= year %></td>
          <td class="<%= homework.status %>"><%= homework.status %></td>
          <td>
            <a class="ui mini yellow button" href="/homeworks/<%= homework._id %>/edit"><i class="edit icon"></i>Edit</a>
            <form action="/homeworks/<%= homework._id %>?_method=DELETE" method="POST" class="delete-form">
              <button class="ui mini red button"><i class="trash alternate icon"></i>Delete</button>
            </form>
          </td>
        </tr>
      <% }); %>
    </tbody>
  </table>
</div>

<% include ../partials/footer %>
